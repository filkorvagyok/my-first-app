<div *ngIf="contactsDataHandler.isLoadingData">
	<mat-spinner></mat-spinner>
</div>
<div *ngIf="!contactsDataHandler.isLoadingData">
<form *ngIf="contactsDataHandler.contact; let contact" class="panel panel-default">
	<div class="panel-heading" color="primary">{{contact.full_name}}</div>
	<div  class="panel-body">
		<div>
			<table class="table">
				<thead>
					<tr>
						<th>Név</th>
						<th>Telefon</th>
						<th>E-mail</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>
							<strong class="company_name">{{contact.full_name}}</strong>
						</td>
						<td>
							{{contact.phone}}
						</td>
						<td>
							{{contact.email}}
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<hr>
		<div>
		<div id="wide">
			<div>
				<h3>Feladatok</h3>
			</div>
		</div>
		<div id="narrow">
			<div>
				<h3>Cégek</h3>
				<p *ngFor="let company of sharedGetDataHandler.companies">
					{{company.name}}
				</p>
			</div>
			<hr>
			<div class="projects">
				<h3>Projektek</h3>
				<p *ngFor="let pfc of sharedGetDataHandler.projectsForContact">
					{{pfc.project.name}} - <span *ngFor="let rank of pfc.ranks; let isLast = last">
						{{rank}}{{isLast ? '' : ', '}}
					</span>
				</p>
				<!--<p *ngFor="let accountable of accountables">
					<strong>{{accountable}}</strong> - Felelős
				</p>
				<p *ngFor="let owner of owners">
					<strong>{{owner}}</strong> - Tulajdonos
				</p>
				<p *ngFor="let observer of observers">
					<strong>{{observer}}</strong> - Megfigyelő
				</p>
				<p *ngFor="let participant of participants">
					<strong>{{participant}}</strong> - Résztvevő
				</p>-->
				<!--<div *ngFor="let accountable of accountables">
					<div *ngFor="let owner of owners">
						<div *ngFor="let observer of observers">
							<div *ngFor="let participant of participants">
								<ng-template [ngIf]="accountable == owner && observer == participant && accountable == observer">
									<p><strong>{{accountable}}</strong> - Felelős, Tulajdonos, Megfigyelő, Résztvevő</p>
								</ng-template>
								<ng-container *ngIf="accountable == owner && observer == participant && accountable == observer;else second">
									<p><strong>{{accountable}}</strong> - Felelős, Tulajdonos, Megfigyelő, Résztvevő</p>
								</ng-container>
								
							</div>
							<ng-container *ngIf="accountable == owner && accountable == observer && !participant;else second">
								<p><strong>{{accountable}}</strong> - Felelős, Tulajdonos, Megfigyelő</p>
							</ng-container>
							<ng-template #second>
							    <ng-container *ngIf="accountable == owner && accountable == observer;else third">
							    	<p><strong>{{accountable}}</strong> - Felelős, Tulajdonos, Megfigyelő</p>
							    </ng-container>
							</ng-template>
						</div>
						<ng-template #third></ng-template>
					</div>
				</div>-->
			</div>
		</div>
		</div>
	</div>
	<div class="botton_right">
		<button mat-fab [matMenuTriggerFor]="menu" color="primary">
	  		<mat-icon class="fa fa-bolt fa-lg" aria-hidden="true"></mat-icon>
		</button>
		<mat-menu #menu="matMenu">
			<button mat-menu-item>
				<mat-icon class="fa fa-file"></mat-icon>
				<span>Új feladat</span>
			</button>
			<button mat-menu-item>
				<mat-icon class="fa fa-folder"></mat-icon>
				<span>Új projekt</span>
			</button>
			<button mat-menu-item>
				<mat-icon class="fa fa-user-plus"></mat-icon>
				<span>Új felhasználó</span>
			</button>
			<button mat-menu-item (click)="gotoEdit()">
				<mat-icon class="fa fa-pencil"></mat-icon>
				<span>Szerkesztés</span>
			</button>
			<button mat-menu-item (click)="clickOnDeleteProductButton()">
				<mat-icon class="fa fa-trash"></mat-icon>
				<span>Törlés</span>
			</button>
		</mat-menu>
	</div>
</form>
<div id="back">
	<button mat-raised-button color="primary" (click)="goBack()">Vissza</button>
</div>
</div>